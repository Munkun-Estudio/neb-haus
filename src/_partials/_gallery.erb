<div id="gallery" class="relative w-full overflow-hidden" data-carousel="static">
  <!-- Carousel wrapper -->
  <div class="relative h-56 md:h-96">
    <%# Slajdy %>
    <div class="opacity-0 transition-opacity duration-700 ease-in-out absolute inset-0" data-carousel-item>
      <img src="/images/tablica.png" class="w-full h-full object-cover" alt="Tablica">
    </div>
    <div class="opacity-100 transition-opacity duration-700 ease-in-out absolute inset-0" data-carousel-item="active">
      <img src="/images/s.png" class="w-full h-full object-cover" alt="S">
    </div>
    <div class="opacity-0 transition-opacity duration-700 ease-in-out absolute inset-0" data-carousel-item>
      <img src="/images/image.png" class="w-full h-full object-cover" alt="Image">
    </div>
    <div class="opacity-0 transition-opacity duration-700 ease-in-out absolute inset-0" data-carousel-item>
      <img src="/images/logo.svg" class="w-full h-full object-cover" alt="Logo">
    </div>
  </div>

  <!-- Slider controls -->
  <button type="button" class="absolute top-1/2 -translate-y-1/2 start-4 z-30 flex items-center justify-center w-10 h-10 rounded-full bg-gray-300 hover:bg-gray-400 focus:ring-2 focus:ring-gray-500" data-carousel-prev>
    <svg class="w-4 h-4 text-gray-700" fill="none" viewBox="0 0 6 10">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
    </svg>
  </button>
  <button type="button" class="absolute top-1/2 -translate-y-1/2 end-4 z-30 flex items-center justify-center w-10 h-10 rounded-full bg-gray-300 hover:bg-gray-400 focus:ring-2 focus:ring-gray-500" data-carousel-next>
    <svg class="w-4 h-4 text-gray-700" fill="none" viewBox="0 0 6 10">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
    </svg>
  </button>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const carousel = document.querySelector('[data-carousel="static"]');
    const items = Array.from(carousel.querySelectorAll('[data-carousel-item]'));

    let current = items.findIndex(el => el.getAttribute('data-carousel-item') === "active");
    if (current === -1) current = 0;

    const showSlide = (index) => {
      items[current].classList.remove('opacity-100');
      items[current].classList.add('opacity-0');
      items[current].setAttribute('data-carousel-item', '');

      items[index].classList.remove('opacity-0');
      items[index].classList.add('opacity-100');
      items[index].setAttribute('data-carousel-item', 'active');

      current = index;
    };

    carousel.querySelector('[data-carousel-prev]').addEventListener('click', () => {
      const prev = (current - 1 + items.length) % items.length;
      showSlide(prev);
    });

    carousel.querySelector('[data-carousel-next]').addEventListener('click', () => {
      const next = (current + 1) % items.length;
      showSlide(next);
    });
  });
</script>
